10 DEFINT A-Z:C=0:F=0
20 GOSUB 1000
30 M$="konnichiwa.":PRINT M$:GOSUB 1100
40 M$="emuesuekkusuzerodesu.":PRINT M$:GOSUB 1100
50 M$="shabereruyouninarimasita.":PRINT M$:GOSUB 1100
60 M$="yoroshikuonegaishimasu.":PRINT M$:GOSUB 1100
70 M$="ijoudesu.":PRINT M$:GOSUB 1100
80 END
1000 ' I2C INIT
1010 _IOTFIND("device/i2c_a", C)
1020 _IOTFIND("device/i2c_a", A$(0), C)
1030 FOR I=0 TO C-1
1040 IF A$(0)="2E" THEN F=1
1050 NEXT I
1060 IF F=0 THEN PRINT "DEVICE(0x2E) NOT FOUND.":END
1070 RETURN
1100 ' TALK & WAIT
1110 _IOTPUT("device/i2c_a/2E", M$+CHR$(13)+CHR$(0))
1120 FOR I=0 TO 100:NEXT I
1130 _IOTGET("device/i2c_a/2E", R$)
1140 IF INSTR(R$, "*")=0 AND INSTR(R$, CHR$(&HFF))=0 THEN RETURN
1150 FOR I=0 TO 100:NEXT I
1160 GOTO 1130
1170 RETURN
